@model List<IoTDevice>
@{
    ViewData["Title"] = "Active Meters - Last 30 Minutes";
}
<h2>@ViewData["Title"]</h2>
<script src="https://www.chartjs.org/samples/latest/utils.js"></script>
<div id="canvas-holder" style="width:80%">
    <canvas id="chart-area"></canvas>
</div>
<button id="randomizeData">Randomize Data</button>
<button id="addDataset">Add Dataset</button>
<button id="removeDataset">Remove Dataset</button>
<div>

</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<script>
   

    var config = {
        type: 'pie',
        data: {
            datasets: [{
                data: [
                    @ViewData["activedevices"] ,  @ViewData["inactivedevices"]
                ],
                backgroundColor: [
                    window.chartColors.green,
                    window.chartColors.red
                ],
                label: 'Water Meters'
            }],
            labels: [
                'Active Meters',
                'In-Active Meters'
            ]
        },
        options: {
            responsive: true
        }
    };

    window.onload = function () {
        var ctx = document.getElementById('chart-area').getContext('2d');
        window.myPie = new Chart(ctx, config);
    };
</script>